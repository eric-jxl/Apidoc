(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{286:function(t,s,a){"use strict";a.r(s);var e=a(14),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"dting-vqmt-vqa部署常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dting-vqmt-vqa部署常见问题"}},[t._v("#")]),t._v(" DTing VQMT VQA部署常见问题")]),t._v(" "),s("h3",{attrs:{id:"获取vmd-tools"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取vmd-tools"}},[t._v("#")]),t._v(" 获取vmd_tools")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" ocl-icd-libopencl1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#依赖项")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-b")]),t._v(" vmd_tool_v1.0.0 http://gitlab.cmvideo.cn/video_platform/vmd/vmd_tools.git\n")])])]),s("h3",{attrs:{id:"依赖ffmpeg-安装解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖ffmpeg-安装解决"}},[t._v("#")]),t._v(" 依赖ffmpeg 安装解决：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" add-apt-repository ppa:jonathonf/ffmpeg-4  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#添加ffmpge-4 仓库")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" add-apt-repository "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" ppa:savoury1/ffmpeg4 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#失败删除仓库地址")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" ffmpeg\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" --fix-broken "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" ffmpeg\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#安装成功测试")]),t._v("\nffmpeg version\n")])])]),s("h3",{attrs:{id:"安装vmqt问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装vmqt问题"}},[t._v("#")]),t._v(" 安装VMQT问题")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" dpkg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" vqmt-13.1~.pro-12728.deb\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#安装结果如下：")]),t._v("\nSelecting previously unselected package vqmt.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Reading database "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("146831")]),t._v(" files and directories currently installed."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nPreparing to unpack vqmt-13.1~.pro-12728.deb "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nUnpacking vqmt "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.1")]),t._v("~.pro-12728"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nSetting up vqmt "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.1")]),t._v("~.pro-12728"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" vqmt "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-gui")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#报错如下")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(":30:49 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ERROR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Metric not specified\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(":30:49 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ERROR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Nesessary files or metrics were not opened, nothing to process\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#卸载vqmt原版本")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--purge")]),t._v(" remove vqmt\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vqmt软件新版本（14.0）安装到系统路径")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" dpkg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" vqmt-14.0_beta.pro-12796.deb\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 测试成功,生成MG-JS1_Src_MG-JS2_Weier_delta-ictcp.json")]),t._v("\nvqmt "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-orig")]),t._v(" /data/video_test/MG-JS1_Src.ts "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-in")]),t._v(" /data/video_test/MG-JS2_Weier.ts -json-default-file -csv-dir /data/video_test/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-metr")]),t._v(" delta-ictcp\n")])])]),s("p",[t._v("成功实例")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/03/02/9bzOEVsi7ZCBQUR.png",alt:"image-20220302162454133"}})]),t._v(" "),s("p",[t._v("Dting 测试VMAF结果")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/03/01/xeJdUkYomgyun24.png",alt:"image-20220301170259391"}})]),t._v(" "),s("p",[t._v("test_vmaf.log, ==frameNum==为当前帧数,==vmaf==第frameNum帧，==vmaf==数值为27.565540")]),t._v(" "),s("img",{staticStyle:{zoom:"50%",float:"left"},attrs:{src:"https://s2.loli.net/2022/03/01/BtCFuJj6GHM2rs4.png",alt:"image-20220301170448654"}}),t._v(" "),s("p",[t._v("总数据字段==mean==代表最终输出为16.627912")]),t._v(" "),s("img",{staticStyle:{zoom:"67%",float:"left"},attrs:{src:"https://s2.loli.net/2022/03/01/r1Fu78WLUf4sxRh.png",alt:"image-20220301171240687"}})])}),[],!1,null,null,null);s.default=n.exports}}]);